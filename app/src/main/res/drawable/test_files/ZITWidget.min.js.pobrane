(function(n,t){function rt(n,t){return ct(ut(n,t,1,0))}function ut(n,t,i,r,u){var it=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],rt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-134217728,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-134217728,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-134217728,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-134217728,-2146435040,-2146402272,1081344],ut=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],ft=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],et=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],ot=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],st=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],ct=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],w=ht(n),s=0,c,h,o,l,a,e,f,p,v,k,y,d,g,nt,lt=t.length,b=0,tt=w.length==32?3:9;for(p=tt==3?i?[0,32,2]:[30,-2,-2]:i?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],t+="\0\0\0\0\0\0\0\0",result="",tempresult="",r==1&&(v=u.charCodeAt(s++)<<24|u.charCodeAt(s++)<<16|u.charCodeAt(s++)<<8|u.charCodeAt(s++),y=u.charCodeAt(s++)<<24|u.charCodeAt(s++)<<16|u.charCodeAt(s++)<<8|u.charCodeAt(s++),s=0);s<lt;){for(i?(e=t.charCodeAt(s++)<<16|t.charCodeAt(s++),f=t.charCodeAt(s++)<<16|t.charCodeAt(s++)):(e=t.charCodeAt(s++)<<24|t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++),f=t.charCodeAt(s++)<<24|t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++)),r==1&&(i?(e^=v,f^=y):(k=v,d=y,v=e,y=f)),o=(e>>>4^f)&252645135,f^=o,e^=o<<4,o=(e>>>16^f)&65535,f^=o,e^=o<<16,o=(f>>>2^e)&858993459,e^=o,f^=o<<2,o=(f>>>8^e)&16711935,e^=o,f^=o<<8,o=(e>>>1^f)&1431655765,f^=o,e^=o<<1,e=e<<1|e>>>31,f=f<<1|f>>>31,h=0;h<tt;h+=3){for(g=p[h+1],nt=p[h+2],c=p[h];c!=g;c+=nt)l=f^w[c],a=(f>>>4|f<<28)^w[c+1],o=e,e=f,f=o^(rt[l>>>24&63]|ft[l>>>16&63]|ot[l>>>8&63]|ct[l&63]|it[a>>>24&63]|ut[a>>>16&63]|et[a>>>8&63]|st[a&63]);o=e;e=f;f=o}e=e>>>1|e<<31;f=f>>>1|f<<31;o=(e>>>1^f)&1431655765;f^=o;e^=o<<1;o=(f>>>8^e)&16711935;e^=o;f^=o<<8;o=(f>>>2^e)&858993459;e^=o;f^=o<<2;o=(e>>>16^f)&65535;f^=o;e^=o<<16;o=(e>>>4^f)&252645135;f^=o;e^=o<<4;r==1&&(i?(v=e,y=f):(e^=k,f^=d));tempresult+=i?String.fromCharCode(e>>>24,e>>>16&255,e>>>8&255,e&255,f>>>24,f>>>16&255,f>>>8&255,f&255):String.fromCharCode(e>>>16&65535,e&65535,f>>>16&65535,f&65535);b+=i?16:8;b==512&&(result+=tempresult,tempresult="",b=0)}return result+tempresult}function ht(n){var o;pc2bytes0=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964];pc2bytes1=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697];pc2bytes2=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272];pc2bytes3=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144];pc2bytes4=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256];pc2bytes5=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488];pc2bytes6=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746];pc2bytes7=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568];pc2bytes8=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578];pc2bytes9=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488];pc2bytes10=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800];pc2bytes11=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744];pc2bytes12=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128];pc2bytes13=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261];var s=n.length>=24?3:1,u=new Array(32*s),h=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],f,e,r=0,c=0,t;for(o=0;o<s;o++)for(left=n.charCodeAt(r++)<<24|n.charCodeAt(r++)<<16|n.charCodeAt(r++)<<8|n.charCodeAt(r++),right=n.charCodeAt(r++)<<24|n.charCodeAt(r++)<<16|n.charCodeAt(r++)<<8|n.charCodeAt(r++),t=(left>>>4^right)&252645135,right^=t,left^=t<<4,t=(right>>>-16^left)&65535,left^=t,right^=t<<-16,t=(left>>>2^right)&858993459,right^=t,left^=t<<2,t=(right>>>-16^left)&65535,left^=t,right^=t<<-16,t=(left>>>1^right)&1431655765,right^=t,left^=t<<1,t=(right>>>8^left)&16711935,left^=t,right^=t<<8,t=(left>>>1^right)&1431655765,right^=t,left^=t<<1,t=left<<8|right>>>20&240,left=right<<24|right<<8&16711680|right>>>8&65280|right>>>24&240,right=t,i=0;i<h.length;i++)h[i]?(left=left<<2|left>>>26,right=right<<2|right>>>26):(left=left<<1|left>>>27,right=right<<1|right>>>27),left&=-15,right&=-15,f=pc2bytes0[left>>>28]|pc2bytes1[left>>>24&15]|pc2bytes2[left>>>20&15]|pc2bytes3[left>>>16&15]|pc2bytes4[left>>>12&15]|pc2bytes5[left>>>8&15]|pc2bytes6[left>>>4&15],e=pc2bytes7[right>>>28]|pc2bytes8[right>>>24&15]|pc2bytes9[right>>>20&15]|pc2bytes10[right>>>16&15]|pc2bytes11[right>>>12&15]|pc2bytes12[right>>>8&15]|pc2bytes13[right>>>4&15],t=(e>>>16^f)&65535,u[c++]=f^t,u[c++]=e^t<<16;return u}function ct(n){for(var i="",r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],t=0;t<n.length;t++)i+=r[n.charCodeAt(t)>>4]+r[n.charCodeAt(t)&15];return i}function at(n,t,i,r,u){return n+"-"+(t+1)+"-"+i+"-"+r+"-"+u}function vt(n,t,i){return n+"-"+(t+1)+"-"+i}function b(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="; expires="+r.toGMTString();document.cookie=n+"="+t+u+"; path=/; samesite=lax;"}function nt(n){console.log("To clear cookie because of reason "+n);b("zit.data.toexclude","1",-1);b("_sxo","",-1);b("curSession","",-1)}function o(n,t,i,r,u,f){var e,o;b(n,"",-1);e=new Date;e.setTime(e.getTime()+i*864e5+r*36e5+u*6e4+f*1e3);o="; expires="+e.toGMTString();document.cookie=n+"="+t+o+"; path=/;samesite=lax;"}function s(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0,f=u.length;i<f;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null}function wt(n,t){var r=!1,i;try{sessionStorage&&(r=!0)}catch(u){}if(typeof t!="undefined"&&t!==null&&r&&sessionStorage.setItem(n,t),typeof t=="undefined"){if(r){i=sessionStorage.getItem(n);try{i=JSON.parse(i)}catch(u){i=i}return i}return null}t===null&&r&&sessionStorage.removeItem(n)}function k(n,t){try{var i=!1;if(localStorage&&(i=!0),typeof t!="undefined"&&t!==null&&(typeof t=="object"&&(t=JSON.stringify(t)),i?localStorage.setItem(n,t):b(n,t,30)),typeof t=="undefined"){data=i?localStorage.getItem(n):s(n);try{data=JSON.parse(data)}catch(r){data=data}return data}t===null&&(i?localStorage.removeItem(n):b(n,"",-1))}catch(r){}}function tt(n,t,i,r,u){var f;XMLHttpRequest?(f=new XMLHttpRequest,"withCredentials"in f&&(f.open(t,n,!0),f.onerror=u,f.onreadystatechange=function(){f.readyState===4&&(f.status>=200&&f.status<400?r(f.responseText):u(new Error("Response returned with non-OK status")))},f.send(i))):XDomainRequest?(f=new XDomainRequest,f.open(t,n),f.onerror=u,f.onload=function(){r(f.responseText)},f.send(i)):a(n,r)}var yt=document.documentElement,pt=function(){var n=yt,i=kt,r="scrollTop",t="scrollHeight";return(n[t]||i[t])-n.clientHeight<=0?100:(n[r]||i[r])/((n[t]||i[t])-n.clientHeight)*100},ft=function(n,t){function u(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="; expires="+r.toGMTString();document.cookie=n+"="+t+u+"; path=/"}function f(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0,f=u.length;i<f;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null}var r=!1,i;try{sessionStorage&&(r=!0)}catch(e){r=!1}if(typeof t!="undefined"&&t!==null&&(typeof t=="object"&&(t=JSON.stringify(t)),r?sessionStorage.setItem(n,t):u(n,t,30)),typeof t=="undefined"){i=r?sessionStorage.getItem(n):f(n);try{i=JSON.parse(i)}catch(e){i=i}return i}t===null&&(r?sessionStorage.removeItem(n):u(n,"",-1))},a,w,g,it;!function(n){function h(){}function c(n,t){return function(){n.apply(t,arguments)}}function t(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];o(n,this)}function e(n,t){for(;3===n._state;)n=n._value;return 0===n._state?void n._deferreds.push(t):(n._handled=!0,void f(function(){var u=1===n._state?t.onFulfilled:t.onRejected,f;if(null===u)return void(1===n._state?r:i)(t.promise,n._value);try{f=u(n._value)}catch(e){return void i(t.promise,e)}r(t.promise,f)}))}function r(n,r){try{if(r===n)throw new TypeError("A promise cannot be resolved with itself.");if(r&&("object"==typeof r||"function"==typeof r)){var f=r.then;if(r instanceof t)return n._state=3,n._value=r,void u(n);if("function"==typeof f)return void o(c(f,r),n)}n._state=1;n._value=r;u(n)}catch(e){i(n,e)}}function i(n,t){n._state=2;n._value=t;u(n)}function u(n){2===n._state&&0===n._deferreds.length&&f(function(){n._handled||s(n._value)});for(var t=0,i=n._deferreds.length;i>t;t++)e(n,n._deferreds[t]);n._deferreds=null}function l(n,t,i){this.onFulfilled="function"==typeof n?n:null;this.onRejected="function"==typeof t?t:null;this.promise=i}function o(n,t){var u=!1;try{n(function(n){u||(u=!0,r(t,n))},function(n){u||(u=!0,i(t,n))})}catch(f){if(u)return;u=!0;i(t,f)}}var a=setTimeout,f="function"==typeof setImmediate&&setImmediate||function(n){a(n,0)},s=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};t.prototype["catch"]=function(n){return this.then(null,n)};t.prototype.then=function(n,t){var i=new this.constructor(h);return e(this,new l(n,t,i)),i};t.all=function(n){var i=Array.prototype.slice.call(n);return new t(function(n,t){function u(r,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(n){u(r,n)},t)}i[r]=e;0==--f&&n(i)}catch(s){t(s)}}if(0===i.length)return n([]);for(var f=i.length,r=0;r<i.length;r++)u(r,i[r])})};t.resolve=function(n){return n&&"object"==typeof n&&n.constructor===t?n:new t(function(t){t(n)})};t.reject=function(n){return new t(function(t,i){i(n)})};t.race=function(n){return new t(function(t,i){for(var r=0,u=n.length;u>r;r++)n[r].then(t,i)})};t._setImmediateFn=function(n){f=n};t._setUnhandledRejectionFn=function(n){s=n};"undefined"!=typeof module&&module.exports?module.exports=t:n.Promise||(n.Promise=t)}(n);String.prototype.replaceAll=function(n,t){var i=this;return i.replace(n,t)};a=function(i,r,u,f){var l,h,o,e,a,s,c;if(i=i||"",r=r||{},u=u||"",f=f||function(){},l=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t},typeof r=="object"){for(h="",o=l(r),e=0;e<o.length;e++)h+=encodeURIComponent(o[e])+"="+encodeURIComponent(r[o[e]]),e!=o.length-1&&(h+="&");i+="?"+h}else typeof r=="function"&&(u=r,f=u);typeof u=="function"&&(f=u,u="callback");Date.now||(Date.now=function(){return(new Date).getTime()});a=Date.now();s="jsonp"+Math.round(a+Math.random()*1000001);n[s]=function(i){f(i);try{delete n[s]}catch(r){n[s]=t}};i=i.indexOf("?")===-1?i+"?":i+"&";c=document.createElement("script");c.setAttribute("src",i+u+"="+s);document.getElementsByTagName("head")[0].appendChild(c)};n.JSONP=a;var bt={1:"Carousel",2:"FlashText"},v={},kt=document.body,et=!1;n.ZITloader={init:function(){return v.WidgetLoader.init()}};n.ZITFunctions={host:function(){return n.location.hostname},encrypt:function(t){var i=n.ZITFunctions.host();return rt(i,t)},retrieveCurSession:function(){var n=s("sessionId");return n?n:""},retrieveOrigSession:function(){var n="",i=s("_sxo"),t;return i&&(t=JSON.parse(i),t&&(n=t.oS)),console.log("id retrieved:"+n),n},retrieveIsSlideCloseCookie:function(){var t="",i=parseInt(s("zit.npw.slide.close"))||0,r=s("_sxo"),n;return r&&(n=JSON.parse(r),n.isSlideClose=i,n.firstClickX=n.firstClickX==1?1:0,o("_sxo",JSON.stringify(n),365,0,0,0),t=i),console.log("isSlideClose retrieved:"+t),t},retrieveIsSlideCloseSession:function(){var n="",i=parseInt(wt("zit.npw.slide.close"))||0,r=s("_sxo"),t;return r&&(t=JSON.parse(r),t.isSlideCloseAlt=i,o("_sxo",JSON.stringify(t),365,0,0,0),n=i),console.log("isSlideCloseAlt retrieved:"+n),n},setEmailAud:function(){var n=s("_sxo");n?(r=JSON.parse(n),r.isEmailAud=1,o("_sxo",JSON.stringify(r),365,0,0,0),console.log("existing email Aud updated:"+r.oS)):(r.isEmailAud=1,o("_sxo",JSON.stringify(r),365,0,0,0),console.log("new email Aud updated:"+r.oS))},sendControlData:function(t,i,r,f,e,o,s){var h=n.ZITFunctions.retrieveOrigSession(),c=n.ZITFunctions.retrieveCurSession(),l={apiKey:i,action:t,origId:h,cursession:c,external:0,pid:r,cid:f,wid:e,salesplan:o,extData:s};tt(u.getDomainByBrandId(r)+"/Widget/SetCampaignViewWithData","POST",JSON.stringify(l),function(n){var t=JSON.parse(n);t&&t.Result==0?ft("zit.data.cursessionid",t.origId):console.log("error: "+t.origId)},function(n){console.error("error: "+n)})},sendCampaignData:function(t,i,r,f){var e=n.ZITFunctions.retrieveOrigSession(),o=n.ZITFunctions.retrieveCurSession(),s={apiKey:i,action:t,origId:e,cursession:o,external:1,pid:r,extData:f};tt(u.getDomainByBrandId(r)+"/Widget/SetCampaignViewWithData","POST",JSON.stringify(s),function(n){var t=JSON.parse(n);t&&t.Result==0?ft("zit.data.cursessionid",t.origId):console.log("error: "+t.origId)},function(n){console.error("error: "+n)})},sendClickData:function(n,t,i,r,f,e,o,s){var h={apiKey:n,action:t,origId:i,external:1,pid:f,cid:e,wid:o,extData:"",referal:s,cursession:r};tt(u.getDomainByBrandId(f)+"/Widget/SetCampaignViewWithData","POST",JSON.stringify(h),function(n){var t=JSON.parse(n);t&&t.Result==0?console.log("successful "+t.origId):console.log("error: "+t.origId)},function(n){console.error("error: "+n)})},sessionStore:function(n,t){var r=!1,i;try{sessionStorage&&(r=!0)}catch(u){}if(typeof t!="undefined"&&t!==null&&r&&sessionStorage.setItem(n,t),typeof t=="undefined"){if(r){i=sessionStorage.getItem(n);try{i=JSON.parse(i)}catch(u){i=i}return i}return null}t===null&&r&&sessionStorage.removeItem(n)},readCookie:function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0,f=u.length;i<f;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null}};var d=[],l="",h="",y=0,c=!1,ot="https://app.zeddit.com",f="",e="",st=!0,r={R:0,tP:0,sP:0,dP:0,dS:0,cPs:0,lPs:0,w:0,isEmailAud:0,isPanelAud:0,lVd:"",oS:"",cPu:""},p="",u={isLocal:!1,version:"3.5.36",getDomain:function(){return this.isLocal?p:"https://app.zeddit.com"},getDomainByBrandId:function(n){return this.isLocal?p:n==952?"https://timemagazine.zeddit.com":n==949?"https://nationalgeographicmagazine.zeddit.com":n==898?"https://hello.zeddit.com":ot},getDisplayWidgetApiUrl:function(){return this.getDomain()+"/widget/GetDisplayWidget"},getWidgetApiUrl:function(n,t){return this.getDomainByBrandId(t)+"/widget/GetCustomWidget"},getEmailPanelApiUrl:function(n,t){return this.getDomainByBrandId(t)+"/widget/GetCustomEmailPanel"},getPopupApiUrl:function(n,t){return this.getDomainByBrandId(t)+"/widget/GetCustomPopupPanel"},getBootstrapeScriptUrl:function(){return this.isLocal?p+"/Scripts/embed/widget/ZITBootstrap-1.0.js?v="+(new Date).getTime():"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/ZITBootstrap-1.0.min.js?v="+this.version},getBootstrapeNewPanelScriptUrl:function(){return this.isLocal?p+"/Scripts/embed/widget/ZITBootstrap-newpanel-1.0.js?v="+(new Date).getTime():"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/ZITBootstrap-newpanel-1.0.min.js?v="+this.version},getEmailScriptUrl:function(){return this.isLocal?p+"/Scripts/embed/widget/ZITEmail-1.0.js?v="+(new Date).getTime():"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/ZITEmail-1.0.min.js?v="+this.version},getPopupScriptUrl:function(){return this.isLocal?p+"/Scripts/ZITCampaign-2.0.js?v="+(new Date).getTime():"https://app.zeddit.com/Scripts/ZITCampaign-2.0.js?v="+this.version},getCarouselScriptUrl:function(){return this.isLocal?p+"/Scripts/embed/widget/lory-slider.js":"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/lory-slider.js"},getAnalyticsScriptUrl:function(){return this.getDomain()+"/Scripts/analytics.js"},getWebfontScriptUrl:function(){return this.isLocal?this.getDomain()+"/Scripts/webfont.js":"https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"},getJqueryScript:function(){return this.getDomain()+"/Scripts/jquery.min.js"},getFormValidationScript:function(){return"//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"},getCryptoScript:function(){return"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"},getJqueryIdletimerScript:function(){return"//cdnjs.cloudflare.com/ajax/libs/jquery-idletimer/1.0.0/idle-timer.min.js"},getNJqueryMagnificPopup:function(){return this.isLocal?"/Scripts/embed/widget/jquery.magnific-popup.js?v="+(new Date).getTime():"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/jquery.magnific-popup.js?v="+this.version},getNewCanvasScript:function(n){return this.getDomainByBrandId(n)+(this.isLocal?"/Scripts/embed/widget/ZITNewCanvas.js?v="+(new Date).getTime():"/Scripts/embed/widget/ZITNewCanvas.js?v="+(new Date).getTime())},getNewCanvasPostScript:function(n){return this.getDomainByBrandId(n)+(this.isLocal?"/Scripts/embed/widget/ZITNewCanvasPost.js?v="+(new Date).getTime():"/Scripts/embed/widget/ZITNewCanvasPost.js?v="+(new Date).getTime())},getDataTrackingScript:function(n){return this.getDomainByBrandId(n)+"/Widget/SetCampaignViewWithData"},getPercentageTrackingScript:function(t,i,r){return this.getDomainByBrandId(t)+"/Widget/UpdateReadingPerformance?widgetId=0&pid="+t+"&actionType=46&apiKey="+r+"&origId="+e+"&iss="+f+"&value="+i+"&host="+encodeURIComponent(n.location.href)},getPermissionUrl:function(n,t,i){var r="https://entry.zeddit.com/SetPermissionWithData?origId=";return t&&(r=r+t),r=r+"&curSession=",i&&(r=r+i),r+"&pid="+n},getSaveDataWithCheckPermissionUrl:function(n){return this.getDomainByBrandId(n)+"/Widget/SaveDataWithCheckPermission"}};v.WidgetConfig;v.WidgetLoader={getAPIURL:function(t){for(var i=u.getDisplayWidgetApiUrl(),p=n.location.hostname,v=this.getQueryString("zit_aid")||0,it=p,w="",b,nt=document.cookie.split("; "),ut,f,o,h,c,l,e,a,d,g,tt,y=0;y<nt.length;y++)b=nt[y].split("="),b[0]=="CurrentUser"&&(w=b[1]);return(ut=new Date,f=r.w,t.wid&&t.wid>0&&(f=t.wid),o="zit.w"+f+".displaysD",t.widgetType=="emailpanel"?o="zit.w"+f+".displaysE":t.widgetType=="popup"&&(o="zit.w"+f+".displaysP"),h=s(o),h||(h="0"),c=parseInt(h),l="zit.w"+f+".sessionD",t.widgetType=="emailpanel"?l="zit.w"+f+".sessionE":t.widgetType=="popup"&&(l="zit.w"+f+".sessionP"),e=s(l),e||(e=""),console.log(o+"#"+h+"#"+l+" # "+e),t.widgetType=="emailpanel")?(i=u.getEmailPanelApiUrl(t.wid,t.pid),i=i+"?p_id="+t.pid+"&wid="+t.wid+"&lc="+t.isLocal+"&iss="+t.curSession+"&dtId="+t.origId+"&host="+encodeURIComponent(p)+"&display="+c+"&isnew="+t.isnew,this.getQueryString("email")&&(i=i+"&email="+this.getQueryString("email")),t.apiURL=i,i):t.widgetType=="popup"?(i=u.getPopupApiUrl(t.wid,t.pid),i=i+"?p_id="+t.pid+"&wid="+t.wid+"&lc="+t.isLocal+"&iss="+t.curSession+"&dtId="+t.origId+"&host="+encodeURIComponent(p)+"&display="+c+"&isnew="+t.isnew,this.getQueryString("email")&&(i=i+"&email="+this.getQueryString("email")),t.apiURL=i,i):(t.isDisplayWidget||(i=u.getWidgetApiUrl(t.wid,t.pid)),!et&&v>0?et=!0:v=0,a=k("RRC-"+t.pid),a||(a=""),d=n.ZITFunctions.retrieveIsSlideCloseCookie(),g=n.ZITFunctions.retrieveIsSlideCloseSession(),w!=""?(tt=rt(it,w),i=i+"?p_id="+t.pid+"&wid="+t.wid+"&page_size="+t.defaultPageSize+"&type="+t.widgetType+"&page_id=1&lc="+t.isLocal+"&filter_type="+t.filterType+"&filter_value="+t.filterValue+"&auth="+tt+"&clickedId="+v+"&iss="+t.curSession+"&dtId="+t.origId+"&host="+encodeURIComponent(n.location.href)+"&rrc="+a+"&display="+c+"&isnew="+t.isnew+"&animation_type="+t.animationType+"&isnewcanvas="+t.isNewCanvas+"&apiKey="+t.apiKey+"&isreturn="+t.isR+"&pv="+t.pv+"&ss="+encodeURIComponent(e)+"&isSlideClose="+d+"&isSlideCloseAlt="+g):i=i+"?p_id="+t.pid+"&wid="+t.wid+"&page_size="+t.defaultPageSize+"&type="+t.widgetType+"&page_id=1&lc="+t.isLocal+"&filter_type="+t.filterType+"&filter_value="+t.filterValue+"&clickedId="+v+"&iss="+t.curSession+"&dtId="+t.origId+"&host="+encodeURIComponent(n.location.href)+"&rrc="+a+"&display="+c+"&isnew="+t.isnew+"&animation_type="+t.animationType+"&isnewcanvas="+t.isNewCanvas+"&apiKey="+t.apiKey+"&isreturn="+t.isR+"&pv="+t.pv+"&ss="+encodeURIComponent(e)+"&isSlideClose="+d+"&isSlideCloseAlt="+g,t.funnelType!=""&&(i+="&funnel_type="+t.funnelType),t.apiURL=i,i)},initScript:function(n){if(Array.isArray(n)){var i=this,t=[];return n.forEach(function(n){t.push(i.script(n))}),Promise.all(t)}return new Promise(function(t,i){var f=!1,e=document.getElementsByTagName("script")[0],r=document.createElement("script"),o=!1,u,s;if(d.length!=0)for(u=0,s=d.length;u<s;u++)n==d[u]&&(t(this),o=!0);o||(d.push(n),r.type="text/javascript",r.src=n,r.async=!0,r.onload=r.onreadystatechange=function(){f||this.readyState&&this.readyState!="complete"||(f=!0,t(this))},r.onerror=r.onabort=i,e.parentNode.insertBefore(r,e))})},loadDependencies:function(n){return this.initScript(n)},getQueryString:function(t,i){i||(i=n.location.href);t=t.replace(/[\[\]]/g,"\\$&");var u=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=u.exec(i);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},htmlDecode:function(n){return String(n).replaceAll(/&quot;/g,'"').replaceAll(/&#39;/g,"'").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">").replaceAll(/&amp;/g,"&")},init:function(){function p(i,y){(function(i,y){i.setAttribute("data-src",location.href);var p={key:0,pid:i.getAttribute("data-pid")||0,wid:i.getAttribute("data-wid")||0,isnew:i.getAttribute("data-isnew")||0,displays:i.getAttribute("data-displays")||0,defaultPageSize:i.getAttribute("data-no-post")||4,isLocal:i.getAttribute("data-local")||0,widgetType:i.getAttribute("data-type")||"",isDisplayWidget:i.getAttribute("data-type")=="display",animationType:i.getAttribute("animation-type")||"",funnelType:i.getAttribute("funnel-type")||"",isNewCanvas:i.getAttribute("isnewcanvas")||!1,brandUrl:"",widgetDisplayType:"",timeToFlash:5e3,timeToRemove:8e3,timeToDisplay:3e3,apiURL:"",layout:1,filterType:"",filterValue:"",noOfPostVisibleInCarousel:0,showThumbnail:!0,autoPlay:!1,closeType:3,appearAtScrollPosition:50,initSession:e,curSession:f,origId:e,emailpanelobject:"",isPreview:!1,isSandbox:!1,isOptOut:!1,hasFullName:!1,isDisclaimerShowFromStart:!1,apiKey:l,isShowTab:!1,isSlide:!1,isAnimate:!1,popupShowOn:0,scrollStatus:0,deviceForScrollStatus:0,slideShowOn:0,slideTimerTime:0,animateFrequency:0,popupDelayTime:0,doNotTrack:c,isR:r.R,pv:r.sP,isActivateX:!1,isActivateXAlternate:!1,activateX_AnimType:0,activateX_MaxMinutes:0};if(r.isEmailAud==1&&p.widgetType=="canvas-email"){console.log("email audience detected");return}if(r.isPanelAud==1&&p.widgetType=="canvas-panel"){console.log("panel audience detected");return}if(r.isEmailAud==1&&r.isPanelAud==1){console.log("both audience detected");return}a(t.getAPIURL(p),function(l){var a=l.response,et=a.css||"",tt,ht,b,d,ut,ft,rt,g,k;if(a&&(a.DoNotTrack=="1"||a.DoNotTrack=="2")){if(a.DoNotTrack=="1")nt("Receive Exclude from WidgetInitialization"),c=!0;else if(a.DoNotTrack=="2"){console.log("No widget to show for reason:"+a.Message);return}}else if(a)st=!1;else{console.log("Malfunctioned json String.");return}p.doNotTrack=a.DoNotTrack;i.setAttribute("data-brandurl",a.brandUrl);tt=a.displays;i.setAttribute("data-displays",tt);p.wid==0&&(p.wid=a.widgetId);i.setAttribute("data-origId",e);var w=parseInt(!a.duration||a.duration==""?"-1":a.duration),ot=parseInt(!a.maxsessions||a.maxsessions==""?"-1":a.maxsessions),it=new Date,ct=at(it.getFullYear(),it.getMonth(),it.getDate(),it.getHours(),it.getMinutes());p.widgetType=="emailpanel"?(console.log("Going to initialize Widget type email panel "+w),w>0&&p.wid>0&&(o("zit.w"+p.wid+".displaysE",tt,0,0,w,0),ot>0&&(b=s("zit.w"+p.wid+".sessionE"),(!b||b.indexOf(f,0)<0)&&(b?o("zit.w"+p.wid+".sessionE",b+","+f,0,0,w,0):o("zit.w"+p.wid+".sessionE",f,0,0,w,0))),r.w=p.wid,o("_sxo",JSON.stringify(r),365,0,0,0)),d=document.createElement("div"),d.className="js-zitWidgetWrapper",d.innerHTML=et+t.htmlDecode(a.rcmHtml),i.appendChild(d),p.emailpanelobject=t.htmlDecode(a.jsObject),p.isPreview=a.isPreview,p.isSandbox=a.isSandbox,p.isOptOut=!1,p.hasFullName=a.hasFullName,p.isDisclaimerShowFromStart=a.isDisclaimerShowFromStart,p.apiKey=a.apiKey,p.origId=e,p.initSession=f,ht=function(){var t=n.ZIT&&n.ZIT.EmailPanel?n.ZIT.EmailPanel:null;if(t){t.init(3,p);$(this).on("mouseleave",function(n){n.clientY<0&&t.show(6)})}},t.loadDependencies(u.getJqueryScript()).then(function(){t.loadDependencies(u.getAnalyticsScriptUrl()).then(function(){t.loadDependencies(u.getEmailScriptUrl()).then(function(){ht()})})})):p.widgetType=="popup"?(console.log("Going to initialize Widget type pop up "+w),w>0&&p.wid>0&&(o("zit.w"+p.wid+".displaysP",tt,0,0,w,0),ot>0&&(b=s("zit.w"+p.wid+".sessionP"),(!b||b.indexOf(f,0)<0)&&(b?o("zit.w"+p.wid+".sessionP",b+","+f,0,0,w,0):o("zit.w"+p.wid+".sessionP",f,0,0,w,0))),r.w=p.wid,o("_sxo",JSON.stringify(r),365,0,0,0)),d=document.createElement("div"),d.className="js-zitWidgetWrapper",d.innerHTML=et+t.htmlDecode(a.rcmHtml),i.appendChild(d),p.emailpanelobject=t.htmlDecode(a.jsObject),p.isPreview=a.isPreview,p.isSandbox=a.isSandbox,p.isOptOut=!1,p.hasFullName=!1,p.isDisclaimerShowFromStart=a.isDisclaimerShowFromStart,p.apiKey=a.apiKey,p.origId=e,p.initSession=f,t.loadDependencies(u.getJqueryScript()).then(function(){t.loadDependencies(u.getAnalyticsScriptUrl()).then(function(){t.loadDependencies(u.getWebfontScriptUrl()).then(function(){t.loadDependencies(u.getPopupScriptUrl()).then(function(){var i=a.googlefamilies,r=i.split(",");typeof WebFont!="undefined"&&WebFont.load({google:{families:r}});var o=ZTracker({apiKey:a.apiKey,pid:p.pid,sessionId:f,origId:e,disabled:u.isLocal}),s=a.noofpreview,t=typeof n.ZIT.CampaignTool!="undefined"?n.ZIT.CampaignTool:null;t&&(t.init("popup",null,o),t.showCampaign(s,0))})})})})):(console.log("Going to initialize Widget type normal "+w+" "+p.wid),w>0&&p.wid>0&&(o("zit.w"+p.wid+".displaysD",tt,0,0,w,0),ot>0&&(b=s("zit.w"+p.wid+".sessionD"),(!b||b.indexOf(f,0)<0)&&(b?o("zit.w"+p.wid+".sessionD",b+","+f,0,0,w,0):o("zit.w"+p.wid+".sessionD",f,0,0,w,0))),r.w=p.wid,o("_sxo",JSON.stringify(r),365,0,0,0)),d=document.createElement("div"),d.className="js-zitWidgetWrapper",d.innerHTML=et+t.htmlDecode(a.rcmHtml),i.appendChild(d),p.isnew&&(ut=document.createElement("div"),ut.className="js-previewSalesFunnel",ut.innerHTML='<div class="js-previewSalesFunnel-menu"><\/div>',i.appendChild(ut),ft=document.createElement("div"),ft.className="js-previewSalesFunnel-overlay",ft.innerHTML=String.Empty,i.appendChild(ft)),rt=document.createElement("div"),rt.setAttribute("id","zit-background-glass"),rt.setAttribute("style","position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background:#fff;display:none !important;"),rt.innerHTML='<img style="position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;" src="https://i0.wp.com/cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif?zoom=2&amp;resize=48%2C48" alt="" width="24" height="24" srcset="https://i0.wp.com/cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif?zoom=2&amp;resize=48%2C48" src-orig="https://i0.wp.com/cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif?resize=48%2C48" scale="2">',document.body.appendChild(rt),p.isDisplayWidget&&(p.widgetDisplayType=bt[a.displayType],p.widgetDisplayType=="Carousel"&&(t.loadDependencies(u.getCarouselScriptUrl()),p.noOfPostVisibleInCarousel=a.noOfPostVisibleInCarousel)),a.rcmHtml!=""?(p.timeToFlash=a.timeToFlash,p.timeToDisplay=a.timeToDisplay,p.timeToRemove=a.timeToRemove,p.autoPlay=a.autoPlay,p.layout=a.layout,p.showThumbnail=a.showThumbnail,p.closeType=a.closeType,p.appearAtScrollPosition=a.appearAtScrollPosition,p.rcc=a.remaining,p.origId=e,p.initSession=f,p.displays=tt,p.isNewCanvas=a.isNewCanvas,p.isShowTab=a.isShowTab,p.isAnimate=a.isAnimate,p.isSlide=a.isSlide,p.scrollStatus=a.scrollStatus,p.deviceForScrollStatus=a.deviceForScrollStatus,p.slideShowOn=a.slideShowOn,p.slideTimerTime=a.slideTimerTime,p.popupShowOn=a.popupShowOn,p.animateFrequency=a.animateFrequency,p.popupDelayTime=a.popupDelayTime,p.isActivateX=a.isActivateX,p.isActivateXAlternate=a.isActivateXAlternate,p.activateX_AnimType=a.activateX_AnimType,p.activateX_MaxMinutes=a.activateX_MaxMinutes,p.widgetType.indexOf("canvas")>=0&&(p.isNewCanvas=!0),g=a.method,k=function(){typeof n["ZIT.WidgetCtrl"]!="undefined"?(n["ZIT.WidgetCtrl"].init(i,p),console.log("Widget initialized:"+p.wid+"#"+p.key)):setTimeout(k,250)},p.isNewCanvas&&g&&g=="get"?t.loadDependencies(u.getJqueryScript()).then(function(){t.loadDependencies(u.getNewCanvasScript(h)).then(function(){t.loadDependencies(u.getBootstrapeNewPanelScriptUrl()).then(function(){p.isAnimate&&!p.isSlide?(n.ZITFunctions.sessionStore("zit.disablepop",0),p.popupShowOn===3?t.loadDependencies(u.getJqueryIdletimerScript()).then(function(){t.loadDependencies(u.getNJqueryMagnificPopup()).then(function(){setTimeout(k,250)})}):t.loadDependencies(u.getNJqueryMagnificPopup()).then(function(){setTimeout(k,250)})):setTimeout(k,250)})})}):p.isNewCanvas&&g&&g=="disclaimer"?t.loadDependencies(u.getJqueryScript()).then(function(){t.loadDependencies(u.getNewCanvasScript(h)).then(function(){t.loadDependencies(u.getBootstrapeNewPanelScriptUrl()).then(function(){setTimeout(k,250)})})}):p.isNewCanvas&&g=="post"?t.loadDependencies(u.getJqueryScript()).then(function(){t.loadDependencies(u.getFormValidationScript()).then(function(){t.loadDependencies(u.getCryptoScript()).then(function(){t.loadDependencies(u.getNewCanvasPostScript(h)).then(function(){t.loadDependencies(u.getBootstrapeNewPanelScriptUrl()).then(function(){p.isAnimate&&!p.isSlide?(n.ZITFunctions.sessionStore("zit.disablepop",0),p.popupShowOn===3?t.loadDependencies(u.getJqueryIdletimerScript()).then(function(){t.loadDependencies(u.getNJqueryMagnificPopup()).then(function(){setTimeout(k,250)})}):t.loadDependencies(u.getNJqueryMagnificPopup()).then(function(){setTimeout(k,250)})):setTimeout(k,250)})})})})}):p.isNewCanvas&&g=="hybrid"?t.loadDependencies(u.getJqueryScript()).then(function(){t.loadDependencies(u.getNewCanvasScript(h)).then(function(){t.loadDependencies(u.getFormValidationScript()).then(function(){t.loadDependencies(u.getCryptoScript()).then(function(){t.loadDependencies(u.getNewCanvasPostScript(h)).then(function(){t.loadDependencies(u.getBootstrapeNewPanelScriptUrl()).then(function(){p.isAnimate&&!p.isSlide?(n.ZITFunctions.sessionStore("zit.disablepop",0),p.popupShowOn===3?t.loadDependencies(u.getJqueryIdletimerScript()).then(function(){t.loadDependencies(u.getNJqueryMagnificPopup()).then(function(){setTimeout(k,250)})}):t.loadDependencies(u.getNJqueryMagnificPopup()).then(function(){setTimeout(k,250)})):setTimeout(k,250)})})})})})}):t.loadDependencies(u.getBootstrapeScriptUrl()).then(function(){setTimeout(k,250)})):console.log("No html code retrieved"),v.WidgetConfig[y]=p)})})(i,y)}var t=this,y=20,i=function(){var r=document.querySelectorAll(".zeddit-rcm"),u,f,e;if(r.length===0)setTimeout(i,300),y--;else{for(console.log("Panels found:"+r.length),v.WidgetConfig=new Array(r.length),r[0].setAttribute("data-clickedid",t.getQueryString("zit_aid")||0),u=0,f=r.length;u<f;u++)e=r[u],p(e,u);n["ZIT.WidgetConfig"]=v.WidgetConfig}};i()}};AnalyticsLoader={initTrackingScrollDepth:function(){var t,i,e;(c=c||n.doNotTrack=="1"||navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"||s("zit.data.toexclude")=="1",c)||(t=Math.ceil(pt()/10)*10,i=!1,t>y&&(i=st?y<=0||y<10&&t>=10||y<40&&t>=40||y<70&&t>=70:!0,i&&(y=t,t>r.cPs&&(e=s("_sxo"),e&&(r=JSON.parse(e)),r.cPs=y,o("_sxo",JSON.stringify(r),365,0,0,0)),a(u.getPercentageTrackingScript(h,t,l),function(n){var t=n.response;t&&t.Result?f!=t.CurSession&&(console.log("New Session Detected "+f+" "+t.CurSession),o("sessionId",t.CurSession,0,0,20,0),f=t.CurSession):console.log("error: "+t.Result)},function(n){console.error("error: "+n)}))))},datatracking:function(t){var i,r,l,c;if(r=r||n.doNotTrack=="1"||navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"||s("zit.data.toexclude")=="1",r){console.log("dnt disabled");return}if(i=t.target||t.srcElement,t.preventDefault?t.preventDefault():t.returnValue=!1,i.nodeName!=="A"&&i.nodeName!=="a")if(i.parentNode)i=i.parentNode;else{console.log("unknown "+i.nodeName);return}if(i.nodeName!=="A"&&i.nodeName!=="a")if(i.parentNode)i=i.parentNode;else{console.log("unknown "+i.nodeName);return}if(i.nodeName!=="A"&&i.nodeName!=="a"){console.log("unknown "+i.nodeName);return}if(r=s("zit.data.toexclude"),!r||r!="1"){var h=i.getAttribute("data-key"),f=i.getAttribute("data-event"),o=i.className.replace("subx_track_","");f==1&&(f=9);l={apiKey:h,action:f,origId:e,external:1,pid:o};c=u.getSaveDataWithCheckPermissionUrl(o)+"?apiKey="+h+"&action="+f+"&origId="+e+"&external=1&pid="+o+"&host="+encodeURIComponent(n.location.href);a(c,function(n){var t=n.response;t&&t.toExclude==1?(nt("Receive to Exclude from SaveDataWithCheckPermission"),r=!0):t&&t.Result==0||console.log(t.Message)});i.getAttribute("target")=="_blank"?n.open(i.href):n.location=i.href}},initPageTracking:function(t,i,r){if(c=c||n.doNotTrack=="1"||navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"||s("zit.data.toexclude")=="1",c){console.log("pdnt disabled");return}r||(r=1);var h={apiKey:t,action:r,origId:e,external:1,pid:i},o=u.getSaveDataWithCheckPermissionUrl(i)+"?apiKey="+t+"&action=1&origId="+e+"&curSession="+f+"&external=1&pid="+i+"&host="+encodeURI(n.location.href);a(o,function(n){var t=n.response;t&&t.toExclude==1?(nt("Receive to Exclude from SaveDataWithCheckPermission"),c=!0):t&&t.Result==0?c=!1:console.log(t.Message)})},init:function(){var t=this,i=0,u=10,r;if(c=c||n.doNotTrack=="1"||navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"||s("zit.data.toexclude")=="1",c){console.log("sdnt disabled");return}r=function(){for(var a,c,o=[],s=document.getElementsByTagName("a"),f=0;f<s.length;f++)s[f].className.indexOf("subx_track_")>=0&&o.push(s[f]);if(l==""&&(l=k("zit.data.apikey")),o.length===0)setTimeout(r,300),u--,e&&e!=""&&e!=null&&i==0&&(t.initPageTracking(l,h),i=1,n.addEventListener?n.addEventListener("scroll",t.initTrackingScrollDepth,!1):n.attachEvent("scroll",t.initTrackingScrollDepth),console.log("NoControlFound "+e));else{for(f=0,a=o.length;f<a;f++)o[f].addEventListener("click",AnalyticsLoader.datatracking,!1),(h==""||l=="")&&(h=o[f].className.replace("subx_track_",""),h&&(l=o[f].getAttribute("data-key"))),c=o[f].getAttribute("data-event"),c>100&&t.initPageTracking(l,h,c);(e&&e!=""&&e!=null||h!=""&&l!="")&&(t.initPageTracking(l,h),i=1,n.addEventListener?n.addEventListener("scroll",t.initTrackingScrollDepth,!1):n.attachEvent("scroll",t.initTrackingScrollDepth));console.log("ControlInitialized:"+o.length)}};r()}};n["ZIT.Functions"]=n.ZITFunctions;w=s("zit.data.toexclude");g=!0;w||(o("zit.data.toexclude",0,365,0,0,0),w=s("zit.data.toexclude"));!w&&n.location.hostname.indexOf(".zeddit.com")>=0&&(w="0",console.log("approved by domain "+n.location.hostname),g=!1);c=w&&w=="0"?!1:!0;c?console.log("cookie disabled, canvas is disabled"):(g?(it=s("_sxo"),it&&(r=JSON.parse(it)),r&&(e=r.oS),console.log("Inital tracking data "+JSON.stringify(r)),f=s("sessionId")):(e="",f="",h=v.WidgetLoader.getQueryString("pid"),console.log("Initial tracking data "+h)),n.ZITFunctions.sessionStore("zit.disablepop",1),a(u.getPermissionUrl(h,e,f),function(t){var i=t.response,u,s,a;i.Result>=1?(i.Message!=""&&(ot=i.Message),i.brandId>0&&(h=i.brandId),i.ApiKey!=""&&(l=i.ApiKey),i.Username&&i.Username!=""&&k("zit.ug",i.Username),i.Result==3?(l!=""&&k("zit.data.apikey",l),i.origId!=""&&(e=i.origId),i.Username=="Subscriber"&&(r.isPanelAud=1,console.log("Panel Audience Detected")),g?(u=new Date,s=vt(u.getFullYear(),u.getMonth(),u.getDate()),(r.lVd==""||r.lVd!=s)&&(console.log("New Date detected "+s),r.lVd!=""&&(r.R=1),r.lVd=s,r.tP=r.tP?r.tP+r.dP:r.dP,r.dP=0,r.dS=0,r.cPu=""),r.oS=e,a=!1,i.CurSession==""||f&&f==i.CurSession||(console.log("New Session detected"),o("sessionId",i.CurSession,0,0,20,0),f=i.CurSession,r.dS=r.dS+1,r.dS>1&&(r.R=1),r.sP=1,a=!0),r.cPu!=n.location.href&&(console.log("New Page detected"),r.dP=r.dP+1,r.lPs=r.cPs,r.cPs=0,a||(r.sP=r.sP+1),r.cPu=n.location.href),o("_sxo",JSON.stringify(r),365,0,0,0)):console.log("cookie disabled mode"),v.WidgetLoader.init(),AnalyticsLoader.init()):i.Result==4&&(c=!0)):i.Result<0&&(c=!0,o("zit.data.toexclude",1,7,0,0,0),console.log(i.Message))}))})(window);